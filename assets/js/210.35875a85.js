(window.webpackJsonp=window.webpackJsonp||[]).push([[210],{635:function(s,t,a){"use strict";a.r(t);var e=a(25),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("参考链接：https://blog.csdn.net/feinifi/article/details/103777406")]),s._v(" "),a("p",[s._v("如题所示，最近在使用npm start启动react项目的时候，经常会报这个错误")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("Error: ENOSPC: System limit "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" number of "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" watchers reached\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("出错原因大致意思是文件监控数量超过了系统限制。其实就是打开的文件过多导致的，不管是什么文件，只要有进程在，就是一个file watchers，临时解决办法就是关掉几个进程，再运行npm start，就好了，但是等到系统开启的进程一多起来，再次运行又有可能出现同样的错误，为了永久解决这个问题，必须修改系统参数。")]),s._v(" "),a("p",[s._v("系统默认的参数可以在/proc/sys/fs/inotify/max_user_watches变量中看到，默认是8192。")]),s._v(" "),a("p",[s._v("修改/etc/sysctl.conf文件，在末尾增加一行记录：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("fs.inotify.max_user_watches"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("524288")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("最后通过 sudo sysctl -p 启用该配置。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" sysctl -p\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("下面是具体的命令")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/sys/fs/inotify/max_user_watches "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 8192")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/sysctl.conf "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在最后一行添加 fs.inotify.max_user_watches=524288")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" sysctl -p\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/sys/fs/inotify/max_user_watches "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 524288")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);